<!doctype html>
<html>

<head>
  <title>Socket.IO Notification</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font: 13px Helvetica, Arial;
    }

    form {
      background: #000;
      padding: 3px;
      position: fixed;
      bottom: 0;
      width: 100%;
    }

    form input {
      border: 0;
      padding: 10px;
      width: 90%;
      margin-right: .5%;
    }

    form button {
      width: 9%;
      background: rgb(130, 224, 255);
      border: none;
      padding: 10px;
    }

    #messages {
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    #messages li {
      padding: 5px 10px;
    }

    #messages li:nth-child(odd) {
      background: #eee;
    }
  </style>
  

  <!-- <script type="text/javascript" src="/socket.io/socket.io.js"></script> -->

  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-messaging.js"></script>
  <script src="index.js"></script>
  <script>
    var config = {
      apiKey: "AIzaSyCRBIuAPqsPIT9AmOvZG-5ugOvBzQK3V_Y",
      authDomain: "weizhijie924.firebaseapp.com",
      databaseURL: "https://weizhijie924.firebaseio.com",
      projectId: "weizhijie924",
      storageBucket: "weizhijie924.appspot.com",
      messagingSenderId: "988684450053"
    };
    firebase.initializeApp(config);

    // if ('serviceWorker' in navigator) {
    //   navigator.serviceWorker.register('/sw.js').then(reg => {

    //     // Initialize Firebase

    //     const messaging = firebase.messaging();
    //     messaging.useServiceWorker(reg);
    //     getToken(messaging);
    //     messaging.onMessage(payload => {
    //       console.log('front', payload);
    //     })
    //   }).catch(err => {
    //     console.log('fail' + err);
    //   })
    // }

  </script>
</head>

<body>
  <ul id="messages"></ul>
  <form action="" id="form">
    <input autocomplete="off" name="input" />
    <button>Send</button>
  </form>
</body>
<script>
  // let socket = io();
  // let form = document.getElementById('form');
  // form.onsubmit = function (e) {

  //   socket.emit('notification1', this.input.value);
  //   e.preventDefault()
  //   return false;
  // }
  // socket.on('notification1', function (msg) {
  //   notice(msg);
  // });
  // Notification.requestPermission(function (per) { })
  // function notice(msg) {
  //   let _notification = new Notification('this is Notice', {
  //     body: msg,
  //     icon: ''
  //   })
  //   setTimeout(function () {
  //     _notification.close();
  //   }, 5000)
  // }
</script>

</html>